<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="805px" height="1311px" viewBox="-0.5 -0.5 805 1311" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-03-28T06:37:45.514Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36&quot; etag=&quot;dS2ac9yz3LRM_kvw6Mgu&quot; version=&quot;14.4.8&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;z5bxrT0QB3xGYAopgbkR&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><path d="M 406 80 L 406 156.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 406 161.88 L 402.5 154.88 L 406 156.63 L 409.5 154.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><ellipse cx="406" cy="40" rx="40" ry="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 40px; margin-left: 367px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Start</div></div></div></foreignObject><text x="406" y="44" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Start</text></switch></g><path d="M 406 285 L 406 332.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 406 337.88 L 402.5 330.88 L 406 332.63 L 409.5 330.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 406 163 L 472.5 224 L 406 285 L 339.5 224 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 131px; height: 1px; padding-top: 224px; margin-left: 341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Is Grace Period Expired</div></div></div></foreignObject><text x="406" y="228" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Is Grace Period Expired</text></switch></g><path d="M 472.5 224 Q 552 224 532.5 163.5 Q 513 103 412.3 118.06" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 407.11 118.83 L 413.51 114.34 L 412.3 118.06 L 414.55 121.26 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="531" y="168" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 178px; margin-left: 532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">No</div></div></div></foreignObject><text x="551" y="182" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">No</text></switch></g><path d="M 406 399 L 406 438.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 406 443.88 L 402.5 436.88 L 406 438.63 L 409.5 436.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="346" y="339" width="120" height="60" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 369px; margin-left: 347px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Ask ELB for health check result with EC2</div></div></div></foreignObject><text x="406" y="373" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Ask ELB for health c...</text></switch></g><rect x="406" y="296" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 306px; margin-left: 407px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Yes</div></div></div></foreignObject><text x="426" y="310" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Yes</text></switch></g><path d="M 472.5 506 L 523.8 506 L 568.63 506.44" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 573.88 506.49 L 566.85 509.92 L 568.63 506.44 L 566.92 502.92 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 339.5 506 L 284 506 L 284 578.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 284 583.88 L 280.5 576.88 L 284 578.63 L 287.5 576.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 406 445 L 472.5 506 L 406 567 L 339.5 506 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 131px; height: 1px; padding-top: 506px; margin-left: 341px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Is EC2 healthy</div></div></div></foreignObject><text x="406" y="510" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Is EC2 healthy</text></switch></g><rect x="575" y="447" width="229" height="119" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="472.5" y="485" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 495px; margin-left: 474px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Yes</div></div></div></foreignObject><text x="493" y="499" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Yes</text></switch></g><rect x="584" y="454" width="199" height="120" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 197px; height: 1px; padding-top: 514px; margin-left: 586px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1. Instance enters InService state<br />2. ASG count it towards total desired count<br />3. ELB start routing traffic to it</div></div></div></foreignObject><text x="586" y="518" fill="#000000" font-family="Helvetica" font-size="12px">1. Instance enters InService stat...</text></switch></g><rect x="276" y="485" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 495px; margin-left: 277px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">No</div></div></div></foreignObject><text x="296" y="499" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">No</text></switch></g><path d="M 284 657 L 284 704.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 284 709.88 L 280.5 702.88 L 284 704.63 L 287.5 702.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="182" y="585" width="204" height="72" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 202px; height: 1px; padding-top: 621px; margin-left: 183px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="text-align: left">ASG marks it as unhealthy and ELB will stop sending more traffic to it<br /></span></div></div></div></foreignObject><text x="284" y="625" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">ASG marks it as unhealthy and ELB...</text></switch></g><path d="M 370 772 L 477.63 772" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 482.88 772 L 475.88 775.5 L 477.63 772 L 475.88 768.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 284 833 L 284 972.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 284 977.88 L 280.5 970.88 L 284 972.63 L 287.5 970.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 284 711 L 370 772 L 284 833 L 198 772 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 170px; height: 1px; padding-top: 772px; margin-left: 199px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Is connection draining enabled on ELB</div></div></div></foreignObject><text x="284" y="776" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Is connection draining enabl...</text></switch></g><path d="M 643 827 L 643 1030.5 L 413.87 1030.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 408.62 1030.5 L 415.62 1027 L 413.87 1030.5 L 415.62 1034 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="484" y="717" width="318" height="110" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 316px; height: 1px; padding-top: 772px; margin-left: 485px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Wait until in-flight requests are processed OR max timeout period expires. Whichever comes first</div></div></div></foreignObject><text x="643" y="776" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Wait until in-flight requests are processed OR max ti...</text></switch></g><rect x="390" y="752" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 762px; margin-left: 391px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Yes</div></div></div></foreignObject><text x="410" y="766" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Yes</text></switch></g><rect x="280" y="884" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 894px; margin-left: 281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">No</div></div></div></foreignObject><text x="300" y="898" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">No</text></switch></g><rect x="157" y="979" width="254" height="103" fill="#ffffff" stroke="#000000" pointer-events="all"/><rect x="160.5" y="979" width="247" height="103" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 245px; height: 1px; padding-top: 1031px; margin-left: 163px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1. ELB deregister unhealthy instance<br />2. ASG terminate it<br />3. ASG starts a new one replacing killed one<br />4. Become registered under ELB<br /></div></div></div></foreignObject><text x="163" y="1034" fill="#000000" font-family="Helvetica" font-size="12px">1. ELB deregister unhealthy instance...</text></switch></g><path d="M 270.91 1083.03 Q 296 1132 279.5 1157 Q 263 1182 152 1144 Q 41 1106 62.5 640 Q 84 174 84 161 Q 84 148 360.05 42.28" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 364.96 40.4 L 359.67 46.17 L 360.05 42.28 L 357.17 39.63 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="1184" width="620" height="90" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 618px; height: 1px; padding-top: 1229px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div style="font-size: 16px"><span><br /><br /><b><u>Key Notes</u></b><br /><div style="text-align: left"><span>1. If all instances are considered unhealthy, ELB will send traffic to them anyway resulting in 5XX error code - fail open. While CLB will fail closed which means it will close the connections.</span></div></span></div><div style="text-align: left"><span>2. Even if EC2 &lt;-&gt; ELB health check is finished before health check grace period configured on ASG expires, ASG will still wait until health check grace period is expired before performing any actions such as terminate unhealthy instances</span></div></div></div></div></foreignObject><text x="310" y="1233" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Key Notes...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>
